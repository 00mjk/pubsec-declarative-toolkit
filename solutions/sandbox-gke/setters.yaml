# Copyright 2021 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

apiVersion: v1
kind: ConfigMap
metadata: # kpt-merge: /setters
  name: setters
data:
  ######
  # General Settings Values
  #
  # The following are Settings for the environment to bootstrap with
  #
  ######
  billing-id: "00000-00000-00000"
  org-id: "000000000000"
  department-code: "org"
  ######
  #
  # Org Policies
  #
  ######
  allowed-images: |
    - "projects/debian-cloud"
    - "projects/cos-cloud"
  allowed-loadbalacers: |
    - INTERNAL
  allowed-domain-contacts: |
    - "@email.com"
  allowed-domain-members: |
    - "loremipsum"
  # organizations/ORGANIZATION_ID, folders/FOLDER_ID, projects/PROJECT_ID,  or projects/PROJECT_ID/zones/ZONE/instances/INSTANCE-NAME.
  can-ip-forward: |
    - "projects/PROJECT_ID"
  ######
  # Guardrails Values
  ######
  #
  # Required to be compliant with Guardrails 05 - Data Location
  # This will prevent resources from being provisioned outside of the lists regions. 
  # To be PBMM Compliant resources must be located in Canadian Regions
  # https://github.com/canada-ca/cloud-guardrails/blob/master/EN/05_Data-Location.md
  #
  allowed-regions: |
    - northamerica-northeast1
    - northamerica-northeast2
  # Required to be compliant with Guardrails 04 - Enterprise Monitoring
  # Create role-based account to enable enterprise monitoring and visibility
  # Emails used must be Already in Cloud Identity
  # Users and roles will be created for the accociated emails
  # https://github.com/canada-ca/cloud-guardrails/blob/master/EN/04_Enterprise-Monitoring-Accounts.md
  #
  ######
  asset-viewer-group: group@email.com
  audit-data-group: group@email.com
  audit-data-viewer-group: group@email.com
  billing-data-group: group@email.com
  billing-data-viewer-group: group@email.com
  billing-console-viewer-group: group@email.com
  # Guardrails Project Values
  guardrails-folder-name: guardrails
  guardrails-project-id: guardrails-0000000 # Must be globally unique
  guardrails-namespace: guardrails  
  ######
  # GKE Sandbox Network Values
  ######
  routing-mode: REGIONAL # REGIONAL or GLOBAL
  mtu: 1460 # Range can be between 1460 and 1500 bytes
  subnet-cidr: 10.2.0.0/16
  log-aggregation-interval: INTERVAL_5_SEC # Possible Values ["INTERVAL_5_SEC", "INTERVAL_30_SEC", "INTERVAL_1_MIN", "INTERVAL_5_MIN", "INTERVAL_10_MIN", "INTERVAL_15_MIN"]
  flow-sampling: 0.5 # Value must be between 0 and 1
  log-metadata: INCLUDE_ALL_METADATA # Possible Values ["EXCLUDE_ALL_METADATA", "INCLUDE_ALL_METADATA", "CUSTOM_METADATA"]
  # log-metadatafields: | # Use if CUSTOM_METADATA is used for `log-metadata`
  #   - test 
  private-google-access: true
  gke-services-cidr: 10.3.0.0/16
  gke-pod-cidr: 10.4.0.0/16
  ######
  #
  # GKE Sandbox Cluster Values
  # Creates a Private GKE Cluster with 1 Node Pool
  #
  ######
  management-project-id: config-controller-project-id
  management-project-number: "00000000000"
  management-namespace: config-control
  host-cluster: main
  host-location: us-east1
  sandbox-project-id: sandbox-000000 # Must be globally unique
  sandbox-namespace: sandbox
  location: northamerica-northeast1
  cluster-description: dev-cluster
  cluster-name: sandbox
  #####
  #
  # CIDR Range to be used for GKE Endpoint Access
  # https://cloud.google.com/kubernetes-engine/docs/how-to/authorized-networks
  #
  auth-network: |
    - cidrBlock: 0.0.0.0/32
      displayName: private-net
  tags: |
    - regional
    - northamerica
    - sandbox
  repo: https://github.com/cartyc/acm-test.git # Example repo replace with your own.
  branch: prod-env
  gke-admin: group@email.com
  gke-viewer: group@email.com
  ####
  #
  # Machine Type to be used for GKE Node Pool
  # https://cloud.google.com/compute/docs/machine-types
  #
  machineType: e2-standard-4
  region: us-central1
  ######
  #
  # Anthos Values
  #
  ######
  acm-version: 1.9.1 # Anthos Config Management Version https://cloud.google.com/anthos/config-management
